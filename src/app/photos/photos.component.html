<ActionBar title="Olympus Photo Transfer">
    <ActionItem
            text="Settings"
            class="fas"
            ios.position="popup"
            android.position="popup"
            [nsRouterLink]="['/settings']"
    ></ActionItem>
</ActionBar>
<ActivityIndicator [busy]="state === states.INITIAL_LOADING"></ActivityIndicator>
<PullToRefresh (refresh)="refreshList($event)">
    <StackLayout *ngIf="state === states.CONNECTION_ERROR">
        <Label text="Failed to connect to the camera"></Label>
    </StackLayout>
    <ScrollView *ngIf="state === states.LOADED">
        <WrapLayout>
            <GridLayout class="tile-container" *ngFor="let file of files">
                <MDCardView class="tile">
                    <StackLayout>
                        <Image [src]="file.thumbnailUrl" loadMode="async" stretch="aspectFit"></Image>
                        <Label [text]="file.name"></Label>
                    </StackLayout>
                </MDCardView>
            </GridLayout>
        </WrapLayout>
    </ScrollView>
</PullToRefresh>
